<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ã‚ã©ã®ã•ã„ã¨</title>
    <link rel="icon" href="assets/miku.jpg" type="image/jpeg">
    <link rel="stylesheet" href="styles.css">
    <style>
      /* å†ç”Ÿãƒœã‚¿ãƒ³ã‚’ç”»é¢ä¸­å¤®ã«è¿½åŠ  */
      .play-button {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: var(--frame);
        color: white;
        padding: 16px 28px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        box-shadow: 0 8px 18px rgba(7, 75, 156, 0.25);
        cursor: pointer;
        z-index: 999;
        transition: all 0.25s ease;
      }
      .play-button:hover {
        transform: translate(-50%, -52%);
        background: #005bbb;
      }
      .play-button.hidden {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.6s ease;
      }
    </style>
  </head>

  <body>
    <main class="page">
      <section class="hero">
        <div class="slide-card" id="slideCard">
          <div class="card-content">
            <h1 class="title">ã«ã‚ƒã‚“ã“ä»£è¡Œãƒ¡ãƒ‹ãƒ¥ãƒ¼</h1>
            <p class="subtitle">å„ã‚¢ã‚¤ãƒ†ãƒ  50å†† / é¸ã³æ”¾é¡Œ 300å††</p>

            <div class="items-grid">
              <ul>
                <li>çŒ«ç¼¶</li><li>XP</li><li>NP</li><li>æ•µåŸ</li><li>è‡ªåŸ</li><li>éŠ€ãƒã‚±</li><li>é‡‘ãƒã‚±</li><li>ãƒ—ãƒ©ãƒã‚±</li><li>ãƒ¬ã‚¸ã‚§ãƒã‚±</li>
              </ul>
              <ul>
                <li>å…¨ã‚­ãƒ£ãƒ©é–‹æ”¾</li><li>å…¨ã‚­ãƒ£ãƒ©ãƒ¬ãƒ™ãƒ«ãƒ</li><li>å…¨ã‚­ãƒ£ãƒ©ç¬¬ä¸‰å½¢æ…‹</li><li>å…¨ã‚¹ãƒ†è§£æ”¾</li><li>ãŠå®ï¼ˆéŠ…ãƒ»éŠ€ãƒ»é‡‘ï¼‰</li><li>ã‚¯ãƒªã‚¢å›æ•°</li><li>ãƒãƒˆãƒ«ã‚¢ã‚¤ãƒ†ãƒ </li><li>ã‚­ãƒ£ãƒƒãƒ„ã‚¢ã‚¤</li><li>ãƒã‚¿ã‚¿ãƒ“</li>
              </ul>
              <ul>
                <li>çŒ«ãƒ“ã‚¿ãƒ³</li><li>åŸç´ æ</li><li>ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—</li><li>åºƒå‘Šå‰Šé™¤</li><li>æ–½è¨­ãƒ¬ãƒ™ãƒ«</li><li>æŒ‡å®šã‚­ãƒ£ãƒ©</li>
                <li class="price">å„50å††</li>
                <li class="bundle">é¸ã³æ”¾é¡Œ 300å††</li>
              </ul>
            </div>

            <div class="cta">
              <a class="primary" href="https://x.com/w6d0da" target="_blank" rel="noopener">æ³¨æ–‡ã¯ã“ã¡ã‚‰</a>
            </div>
          </div>

          <div class="card-media">
            <img src="assets/miku.gif" alt="ã¿ã.gif" class="miku" onerror="this.style.opacity=0.5;">
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="left">
        <div class="badge">X_ID: <strong>w6doda</strong></div>
        <div class="badge">Discord_ID: <strong>w6do</strong></div>
      </div>
      <div class="right">
        <a class="server" href="https://discord.gg/sG6NrK5z7s" target="_blank" rel="noopener">Discord ã‚µãƒ¼ãƒãƒ¼å‚åŠ </a>
      </div>
    </footer>

    <!-- âœ… å†ç”Ÿãƒœã‚¿ãƒ³ -->
    <button id="playButton" class="play-button">ğŸµ BGMå†ç”Ÿ</button>

    <!-- âœ… éŸ³æ¥½ -->
    <audio id="bgm" preload="auto"></audio>

    <script>
      const tracks = [
        "https://github.com/w6d0/wado/raw/refs/heads/main/music/1_Tube.mov",
        "https://github.com/w6d0/wado/raw/refs/heads/main/music/2_Tube.mov",
        "https://github.com/w6d0/wado/raw/refs/heads/main/music/3_Tube.mov",
        "https://github.com/w6d0/wado/raw/refs/heads/main/music/5_Tube.mov"
      ];

      const bgm = document.getElementById("bgm");
      const playButton = document.getElementById("playButton");
      let current = 0;
      let fading = false;
      let fadeInterval = null;

      bgm.volume = 0;

      // ğŸ§ å†ç”Ÿé–¢æ•°
      function playTrack(index) {
        const src = tracks[index];
        bgm.src = src;
        bgm.play().then(() => {
          console.log(`ğŸµ å†ç”Ÿé–‹å§‹: ${src}`);
          fadeIn(bgm, 0.1, 2000);
        }).catch(err => {
          console.warn("å†ç”Ÿã‚¨ãƒ©ãƒ¼:", err);
        });
      }

      // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
      function fadeIn(audio, targetVolume, duration) {
        if (fading) return;
        fading = true;
        let step = (targetVolume - audio.volume) / (duration / 100);
        fadeInterval = setInterval(() => {
          if (audio.volume < targetVolume) {
            audio.volume = Math.min(audio.volume + step, targetVolume);
          } else {
            clearInterval(fadeInterval);
            fading = false;
          }
        }, 100);
      }

      // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
      function fadeOut(audio, duration, callback) {
        if (fading) return;
        fading = true;
        let step = audio.volume / (duration / 100);
        fadeInterval = setInterval(() => {
          if (audio.volume > 0) {
            audio.volume = Math.max(audio.volume - step, 0);
          } else {
            clearInterval(fadeInterval);
            fading = false;
            if (callback) callback();
          }
        }, 100);
      }

      // æ›²ãŒçµ‚ã‚ã£ãŸã‚‰æ¬¡ã¸
      bgm.addEventListener("ended", () => {
        fadeOut(bgm, 1500, () => {
          current = (current + 1) % tracks.length;
          playTrack(current);
        });
      });

      // âœ… ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§å†ç”Ÿé–‹å§‹
      playButton.addEventListener("click", () => {
        playButton.classList.add("hidden");
        playTrack(current);
      });
    </script>
  </body>
</html>
